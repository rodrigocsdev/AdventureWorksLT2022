{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/product.service\";\nimport * as i2 from \"@angular/common\";\nfunction HomeComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"A carregar produtos...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HomeComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.errorMessage);\n  }\n}\nfunction HomeComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Nenhum produto encontrado.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HomeComponent_div_3_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h3\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\")(4, \"strong\");\n    i0.ɵɵtext(5, \"Produto:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\")(8, \"strong\");\n    i0.ɵɵtext(9, \"Cor:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\")(12, \"strong\");\n    i0.ɵɵtext(13, \"Pre\\u00E7o:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\")(17, \"strong\");\n    i0.ɵɵtext(18, \"Tamanho:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"p\")(21, \"strong\");\n    i0.ɵɵtext(22, \"Peso:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(24, \"img\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r5.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", product_r5.productNumber, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", product_r5.color, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind3(15, 8, product_r5.listPrice, \"USD\", \"symbol\"), \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", product_r5.size, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", product_r5.weight, \" g\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"alt\", product_r5.name);\n    i0.ɵɵproperty(\"src\", product_r5.thumbNailPhoto, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction HomeComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, HomeComponent_div_3_div_1_Template, 25, 12, \"div\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.products);\n  }\n}\nexport class HomeComponent {\n  constructor(productService) {\n    this.productService = productService;\n    this.products = []; // Array de produtos\n    this.loading = false; // Indicador de carregamento\n    this.errorMessage = null; // Mensagem de erro (se houver)\n  }\n\n  fetchProducts() {\n    this.loading = true;\n    this.errorMessage = null;\n    this.productService.getProducts().subscribe({\n      next: data => {\n        console.log('Dados recebidos da API:', data);\n        // Verifica se a resposta é um objeto e não uma lista\n        if (data && data.productID) {\n          this.products = [data]; // Coloca o produto dentro de um array\n        } else {\n          console.error('Estrutura inesperada dos dados:', data);\n          this.products = []; // Garante que é um array vazio em caso de erro\n        }\n\n        this.loading = false;\n      },\n      error: error => {\n        console.error('Erro ao buscar produtos:', error);\n        this.errorMessage = 'Erro ao carregar produtos.';\n        this.loading = false;\n      }\n    });\n  }\n  // Chamado quando o componente é inicializado\n  ngOnInit() {\n    console.log('Componente Home carregado');\n    this.fetchProducts(); // Inicia a busca de produtos\n  }\n}\n\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.ProductService));\n};\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 4,\n  vars: 4,\n  consts: [[4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [\"width\", \"100\", 3, \"src\", \"alt\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, HomeComponent_div_0_Template, 2, 0, \"div\", 0);\n      i0.ɵɵtemplate(1, HomeComponent_div_1_Template, 2, 1, \"div\", 0);\n      i0.ɵɵtemplate(2, HomeComponent_div_2_Template, 2, 0, \"div\", 0);\n      i0.ɵɵtemplate(3, HomeComponent_div_3_Template, 2, 1, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.loading);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.errorMessage);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.loading && (ctx.products == null ? null : ctx.products.length) === 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.products && ctx.products.length > 0);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i2.CurrencyPipe],\n  encapsulation: 2\n});","map":{"version":3,"mappings":";;;;;IAAAA,2BAAqB;IAAAA,sCAAsB;IAAAA,iBAAM;;;;;IACjDA,2BAAsC;IAAAA,YAAkB;IAAAA,iBAAM;;;;IAAxBA,eAAkB;IAAlBA,yCAAkB;;;;;IACxDA,2BAAgD;IAAAA,0CAA0B;IAAAA,iBAAM;;;;;IAE5EA,2BAAsC;IAC9BA,YAAkB;IAAAA,iBAAK;IAC3BA,yBAAG;IAAQA,wBAAQ;IAAAA,iBAAS;IAACA,YAA2B;IAAAA,iBAAI;IAC5DA,yBAAG;IAAQA,oBAAI;IAAAA,iBAAS;IAACA,aAAmB;IAAAA,iBAAI;IAChDA,0BAAG;IAAQA,4BAAM;IAAAA,iBAAS;IAACA,aAAiD;;IAAAA,iBAAI;IAChFA,0BAAG;IAAQA,yBAAQ;IAAAA,iBAAS;IAACA,aAAkB;IAAAA,iBAAI;IACnDA,0BAAG;IAAQA,sBAAK;IAAAA,iBAAS;IAACA,aAAsB;IAAAA,iBAAI;IACpDA,0BAAyE;IAC7EA,iBAAM;;;;IAPEA,eAAkB;IAAlBA,qCAAkB;IACOA,eAA2B;IAA3BA,wDAA2B;IAC/BA,eAAmB;IAAnBA,gDAAmB;IACjBA,eAAiD;IAAjDA,4FAAiD;IAC/CA,eAAkB;IAAlBA,+CAAkB;IACrBA,eAAsB;IAAtBA,mDAAsB;IACZA,eAAwB;IAAxBA,gDAAwB;IAAvDA,iEAA8B;;;;;IAR3CA,2BAAyD;IACrDA,sEAQM;IACVA,iBAAM;;;;IATuBA,eAAW;IAAXA,yCAAW;;;ACIxC,OAAM,MAAOC,aAAa;EAKxBC,YAAoBC,cAA8B;IAA9B,mBAAc,GAAdA,cAAc;IAJlC,aAAQ,GAAc,EAAE,CAAC,CAAC;IAC1B,YAAO,GAAG,KAAK,CAAC,CAAC;IACjB,iBAAY,GAAkB,IAAI,CAAC,CAAC;EAEkB;;EAEtDC,aAAa;IACX,IAAI,CAACC,OAAO,GAAG,IAAI;IACnB,IAAI,CAACC,YAAY,GAAG,IAAI;IAExB,IAAI,CAACH,cAAc,CAACI,WAAW,EAAE,CAACC,SAAS,CAAC;MAC1CC,IAAI,EAAGC,IAAS,IAAI;QAClBC,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEF,IAAI,CAAC;QAC5C;QACA,IAAIA,IAAI,IAAIA,IAAI,CAACG,SAAS,EAAE;UAC1B,IAAI,CAACC,QAAQ,GAAG,CAACJ,IAAI,CAAC,CAAC,CAAC;SACzB,MAAM;UACLC,OAAO,CAACI,KAAK,CAAC,iCAAiC,EAAEL,IAAI,CAAC;UACtD,IAAI,CAACI,QAAQ,GAAG,EAAE,CAAC,CAAC;;;QAEtB,IAAI,CAACT,OAAO,GAAG,KAAK;MACtB,CAAC;MACDU,KAAK,EAAGA,KAAK,IAAI;QACfJ,OAAO,CAACI,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;QAChD,IAAI,CAACT,YAAY,GAAG,4BAA4B;QAChD,IAAI,CAACD,OAAO,GAAG,KAAK;MACtB;KACD,CAAC;EACJ;EAIA;EACAW,QAAQ;IACNL,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;IACxC,IAAI,CAACR,aAAa,EAAE,CAAC,CAAC;EACxB;;;AArCWH,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAAgB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDR1BrB,8DAAiD;MACjDA,8DAA8D;MAC9DA,8DAAgF;MAChFA,8DAUM;;;MAbAA,kCAAa;MACbA,eAA8B;MAA9BA,uDAA8B;MAC9BA,eAAwC;MAAxCA,gGAAwC;MACxCA,eAAiD;MAAjDA,8EAAiD","names":["i0","HomeComponent","constructor","productService","fetchProducts","loading","errorMessage","getProducts","subscribe","next","data","console","log","productID","products","error","ngOnInit","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\rodri\\source\\repos\\AdventureWorksLT2022\\ClientApp\\src\\app\\home\\home.component.html","C:\\Users\\rodri\\source\\repos\\AdventureWorksLT2022\\ClientApp\\src\\app\\home\\home.component.ts"],"sourcesContent":["<div *ngIf=\"loading\">A carregar produtos...</div>\r\n<div *ngIf=\"!loading && errorMessage\">{{ errorMessage }}</div>\r\n<div *ngIf=\"!loading && products?.length === 0\">Nenhum produto encontrado.</div>\r\n<div *ngIf=\"!loading && products && products.length > 0\">\r\n    <div *ngFor=\"let product of products\">\r\n        <h3>{{ product.name }}</h3>\r\n        <p><strong>Produto:</strong> {{ product.productNumber }}</p>\r\n        <p><strong>Cor:</strong> {{ product.color }}</p>\r\n        <p><strong>Preço:</strong> {{ product.listPrice | currency:'USD':'symbol' }}</p>\r\n        <p><strong>Tamanho:</strong> {{ product.size }}</p>\r\n        <p><strong>Peso:</strong> {{ product.weight }} g</p>\r\n        <img [src]=\"product.thumbNailPhoto\" alt=\"{{ product.name }}\" width=\"100\">\r\n    </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ProductService } from '../service/product.service';\r\nimport { Product } from '../models/product.model';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n})\r\nexport class HomeComponent implements OnInit {\r\n  products: Product[] = []; // Array de produtos\r\n  loading = false; // Indicador de carregamento\r\n  errorMessage: string | null = null; // Mensagem de erro (se houver)\r\n\r\n  constructor(private productService: ProductService) { }\r\n\r\n  fetchProducts(): void {\r\n    this.loading = true;\r\n    this.errorMessage = null;\r\n\r\n    this.productService.getProducts().subscribe({\r\n      next: (data: any) => {\r\n        console.log('Dados recebidos da API:', data);\r\n        // Verifica se a resposta é um objeto e não uma lista\r\n        if (data && data.productID) {\r\n          this.products = [data]; // Coloca o produto dentro de um array\r\n        } else {\r\n          console.error('Estrutura inesperada dos dados:', data);\r\n          this.products = []; // Garante que é um array vazio em caso de erro\r\n        }\r\n        this.loading = false;\r\n      },\r\n      error: (error) => {\r\n        console.error('Erro ao buscar produtos:', error);\r\n        this.errorMessage = 'Erro ao carregar produtos.';\r\n        this.loading = false;\r\n      },\r\n    });\r\n  }\r\n\r\n\r\n\r\n  // Chamado quando o componente é inicializado\r\n  ngOnInit(): void {\r\n    console.log('Componente Home carregado');\r\n    this.fetchProducts(); // Inicia a busca de produtos\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}